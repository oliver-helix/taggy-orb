description: >
  cut a release
parameters:
  release-type:
    description: type of release (minor, patch)
    type: enum
    enum: ['major', 'minor', 'patch']
    default: null
  release-candidate:
    description: add a release-candidate flag to tag
    type: boolean
    default: null
  current-version:
    description: current version upon which to increment
    type: string
    default: null
  working-directory:
    type: string
steps:
  - attach_workspace:
      at: << parameters.working-directory >>
  - checkout
  - run:
      name: Git Tag
      environment:
        RELEASE_TYPE: <<parameters.release-type>>
        RELEASE_CANDIDATE: <<parameters.release-candidate>>
        CURRENT_VERSION: <<parameters.current-version>>
      command: <<include(scripts/git_tag.sh)>>
